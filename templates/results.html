<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico">
    <link rel="icon" href="http://obj-cache.cloud.ruanbekker.com/favicon.ico">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">
    <title>Documents Search</title>

  </head>
  <body>

  <div class="container">
    <div style="background:transparent !important" class="jumbotron">
      <div style="font-family: 'Comfortaa', cursive;">
        <p>
          <center>
          <font size="8">Search using ElasticSearch</font>
          </center>
        </p>
      </div>
    </div>

  <form action="/search/results" method="post">
    <div class="input-group">
      <input type="text" class="form-control input-lg" name="input" placeholder="Search"  autofocus>
      <div class="input-group-btn">
        <button class="btn btn-primary btn-lg" type="submit">
          <i class="glyphicon glyphicon-search"></i>
        </button>
      </div>
    </div>
  </form>

  <center>
      <h1>Results: ({{ res['hits']['total'] }}) </h1>
  </center>

  <table class="table">
    <thead>
      <tr>
        <th>Creation Date</th>
        <th>Title</th>
        <th>Author</th>
      </tr>
    </thead>

{% for hit in res['hits']['hits'] %}
    <tbody>
      <tr>
       <th scope="row">{{ hit['_source']['creation-date'] }}</th>

         <td>{{ hit['_source']['title'] }}</a></td>
        <td>{{ hit['_source']['author'] }}</td>
      </tr>
    </tbody>
{% endfor %}
  </table>
<br>
    <br>
    <table class="table">
    <thead>
      <tr>
        <th>Index Name</th>
        <th>Total Document</th>
          <th>action</th>
      </tr>
    </thead>

    {% for i in range(1,matrix_length) %}
    <tbody id="table">
      <tr class="tr">
          <td>{{matrix_list[i][2]}}</td>
          <td>{{matrix_list[i][6]}}</td>
            <!--form action="/delete_index?name={{matrix_list[i][2]}}" method="GET"-->
          <td class="delete"><a class="delete" href="/delete_index?name={{matrix_list[i][2]}}"><input class="btn btn-primary btn-lg " type="submit" value="Delete"></a></td>


      </tr>
    </tbody>
        {% endfor %}
  </table>

      <form action="{{url_for('home')}}" >
      <div class="input-group">
        <div class="input-group-btn">
          <input class="btn btn-primary btn-lg" type="submit" value="Back">
          </input>
        </div>
      </div>
    </form>

      </div>
    </div>

  <script>
      const list = document.querySelector('#table tr');
      list.addEventListener('click',function(e){
        if(e.target.className == 'delete'){
        const td = e.target.parentElement;
        list.removeChild(tr);
        }
      });

  </script>
  </body>
</html>